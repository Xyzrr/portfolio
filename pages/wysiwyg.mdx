import ProjectLayout from "../layouts/ProjectLayout";
import Gallery from "../components/Gallery";
import ReportHero from "../components/ReportHero";
import Button, { ButtonGroup } from "../components/Button";

<ProjectLayout title="WYSIWYG Reports">

<ButtonGroup>
  <Button
    icon="sports_esports"
    href="https://wandb.ai/wandb/alors%20on%20danse/reports/A-New-Way-to-Create-Reports--VmlldzozOTg0OTg"
  >
    Demo
  </Button>
</ButtonGroup>

At Weights & Biases, I led the design and development of the Reports project, a mission to make it easy to share your machine learning research with your team and the world. As of July 2021, more than 500 reports are created every week.

<ReportHero />

## The Problem

When I joined W&B, reports already existed, but they were designed for only one purpose: sharing progress updates internally with teammates. As a result, little effort was put into presentation; reports were not visually clean or mobile friendly.

<Gallery
  sources={["https://storage.googleapis.com/john-portfolio/wysiwyg/old.png"]}
  frame="before"
/>

Secondly, the text editing experience was an afterthought, since generally only short snippets and captions were needed.

Lastly, reports weren't designed to be collaborative; only the author of a report could edit it.

We saw an opportunity to enable researchers to quickly publish their research to the world by sharing the reports that they were already creating for internal use. But for this to work, we needed to make reports presentable, suitable for longform rich text, and collaborative.

## Process?

We iterated on reports for the entire 2+ years I was at W&B. Because reports already had many active users, we chose to solve one problem at a time and maintain backwards compatibility at each step.

Being a startup, we didn't have a consistent process. I would always do the design and share it with the Shawn (CTO) and Carey (Head of Product) for feedback and approval. I designed some features via Figma mocks, others via written specifications. Sometimes I implemented the design myself, sometimes I led a team of 3 engineers. We conducted user interviews as necessary.

## Inspiration

Notion and Dropbox Paper were our biggest inspirations in the Reports design. We loved the way they auto-convert Markdown formatting, so we borrowed that idea in Reports:

<Gallery
  sources={[
    "https://storage.googleapis.com/john-portfolio/wysiwyg/markdown-shortcuts.mov",
  ]}
  bordered
/>

We also borrowed from Notion the slash menu, used for adding anything that doesn't have a Markdown shortcut, or anything you don't remember the Markdown shortcut for:

<Gallery
  sources={[
    "https://storage.googleapis.com/john-portfolio/wysiwyg/slash-menu.mov",
  ]}
  bordered
/>

## Hardest decisions

### Realtime collaboration vs. async collaboration

Realtime collaboration is now the gold standard for document editors, set forth by tools like Google Docs and Notion. But our reports architecture wasn't designed for realtime collaboration, so implementing it would have required a complete rewrite. Instead, we opted for a git-like system. When you edit a report, you create a private copy of it which you can then save onto the master report.

<Gallery
  sources={["https://storage.googleapis.com/john-portfolio/wysiwyg/drafts.mov"]}
  bordered
/>

Later on I implemented a proof-of-concept of realtime collaboration. It drew delight but probably won't see production for awhile.

<Gallery
  sources={[
    "https://storage.googleapis.com/john-portfolio/wysiwyg/collaboration.mov",
  ]}
  frame="prototype"
/>

### Default text width

Text is most readable at less than 70 characters per line. But visualizations want to be wider than that. Should we align the text to the visualizations, or should we make the text readable at the cost of awkward alignment when there's little text?

<Gallery
  sources={[
    "https://storage.googleapis.com/john-portfolio/wysiwyg/text-width.mov",
  ]}
  bordered
/>

We initially opted to default to wide text since longform text was uncommon. But as we grew Reports into more of a publishing platform, we switched the default text width to be readable.

### Markdown vs. WYSIWYG

Text editing was initially all markdown based because it was easier to implement and the user base is very technical. However, Markdown isn't designed to be used for documents with complex interactive visualizations. We tried various hacks to get it mostly working, but ultimately decided that WYSIWYG was the only way to get the user experience we really wanted.

</ProjectLayout>
